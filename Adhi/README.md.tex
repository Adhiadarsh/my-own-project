Part 1: Setting Up the Environment
A. Launching an Ubuntu EC2 Instance

1.Log in to the AWS Console → go to EC2 → Launch Instance
2.Configure the instance:
	AMI: Ubuntu Server 22.04 LTS (Free Tier)
	Instance Type: t2.micro
	Key Pair: adarsha.pem
	Inbound Rules: SSH (22), HTTP (80)

3.Connect to the instance:
	cd ~/Downloads
	chmod 400 adarsha.pem
	ssh -i "adhi.pem" ubuntu@<public-ip>"
	
B. Create a New User

sudo adduser devops_intern


C. Update Hostname

sudo hostnamectl set-hostname adarsha-devops

D. check hostname

hostname 



Part 2: Hosting a Simple Web Page	
	
A. Install and Start Nginx
	sudo apt update -y
	sudo apt install nginx -y
	sudo systemctl enable nginx
	sudo systemctl start nginx
		
B. Create a Custom Web Page

	sudo tee /var/www/html/index.html > /dev/null <<'HTML'
<!DOCTYPE html>
<html>
  <head>
    <title>DevOps Intern - Adarsha</title>
  </head>
  <body style="font-family: Arial; text-align: center; margin-top: 100px;">
    <h1>Hello, I'm <span style="color: green;">Adarsha</span></h1>
    <p><b>Instance ID:</b> $(curl -s http://169.254.169.254/latest/meta-data/instance-id)</p>
    <p><b>Server Uptime:</b> $(uptime -p)</p>
  </body>
</html>
HTML
sudo systemctl restart nginx

C.HTTP setup
Open HTTP Port (80) on AWS EC2
Go to AWS Console → EC2 → Instances → [Your Instance]
Click on Security → Security Groups
Under Inbound Rules → add Rules
Add a rule:
Type: HTTP
Protocol: TCP
Port Range: 80
Source: 0.0.0.0/0 (to allow from all IPs)

D.Test HTTP Access
security group add http
	http://54.221.11.121/


Part 3: System Monitoring Script

A. Create Monitoring Script
	sudo tee /usr/local/bin/system_report.sh > /dev/null <<'BASH'
	#!/bin/bash
	LOGFILE="/var/log/system_report.log"

	{
	  echo "---------------------------------------------"
	  echo "Report Generated On: $(date '+%Y-%m-%d %H:%M:%S %Z')"
	  echo "Uptime: $(uptime -p)"
	  echo "CPU Usage (%): $(top -bn1 | grep "Cpu(s)" | awk '{print 100 - $8}')"
	  echo "Memory Usage (%): $(free | awk '/Mem:/ {printf("%.2f"), $3/$2 * 100}')"
	  echo "Disk Usage (%): $(df -h / | awk 'NR==2{print $5}')"
	  echo "Top 3 Processes (by CPU):"
	  ps -eo pid,ppid,cmd,%cpu --sort=-%cpu | head -n 4
	  echo ""
	} >> "$LOGFILE"
	BASH

	sudo chmod +x /usr/local/bin/system_report.sh
	sudo touch /var/log/system_report.log
	sudo chmod 644 /var/log/system_report.log

B. Schedule Script with Cron
	
sudo tee /etc/cron.d/system_report > /dev/null <<'CRON'
*/5 * * * * root /usr/local/bin/system_report.sh
CRON



Part 4: AWS Cloud Integration

A. Configure AWS CLI
   1.Install AWS CLI on Ubuntu (Linux)
   
   sudo apt update -y
   sudo apt upgrade -y
   
   2. Install required dependencies
   
   sudo apt install unzip curl -y

   3. Download the AWS CLI package
   
   curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"

   4. Unzip the installer
   
   unzip awscliv2.zip

   5.Run the installer
   
   sudo ./aws/install

   6.Verify installation
   
   aws --version

B.Configure AWS credentials

aws configure

AWS Access Key ID [None]: <your-access-key>
AWS Secret Access Key [None]: <your-secret-key>
Default region name [None]: us-east-1
Default output format [None]: json

C. Create CloudWatch Log Group
	
aws logs create-log-group --log-group-name /devops/intern-reports

D. Push Logs to CloudWatch
	
LOG_STREAM="system-report-$(date +%s)"
aws logs create-log-stream --log-group-name /devops/intern-reports --log-stream-name "$LOG_STREAM"

TIMESTAMP=$(date +%s%3N)
LOG_CONTENT=$(sudo tail -n 30 /var/log/system_report.log | sed ':a;N;$!ba;s/\n/\\n/g' | sed 's/"/\\\"/g')

aws logs put-log-events \
  --log-group-name /devops/intern-reports \
  --log-stream-name "$LOG_STREAM" \
  --log-events "[{\"timestamp\":$TIMESTAMP,\"message\":\"$LOG_CONTENT\"}]"


E.AWS Console → CloudWatch → Logs → /devops/intern-metrics → system-report-<timestamp>
	


	
